# Form Checker

**Form Checker** — это приложение на FastAPI, которое предоставляет API для обработки форм с динамическими параметрами. Приложение использует MongoDB для хранения шаблонов форм и включает тестовые скрипты для взаимодействия с API.

  

## Технологии

- **FastAPI**: Фреймворк для разработки веб-приложений
- **MongoDB**: Хранение данных
- **mongo-express**: Визуализация данных MongoDB
- **Docker**: Контейнеризация приложения
- **pytest**: Тестирование API запросов


## Установка

### 1. Клонирование репозитория

```bash
git clone https://github.com/DevGruz/form-checker.git
cd form-checker
```

  
### 2. Настройка окружения

Создайте файл .env в корне проекта и настройте необходимые переменные окружения. В корне проекта есть пример .env файла с названием .env-example


### 3. Запуск через Docker

В проекте есть docker-compose.yml файл для быстрой настройки и запуска

```bash
docker compose up --build
```

### 4. Инициализация базы данных

Для инициализации базы данных используется файл `data/templates.json`. Если коллекция, указанная в переменной `MONGO_COLLECTION`, отсутствует, данные из файла `templates.json` будут записаны в MongoDB.

Инициализация выполняется, только если переменная окружения `INIT_DATA_IN_DATABASE` установлена в `true`

## Использование

После запуска приложения вы можете получить доступ к API по адресу http://localhost:8000

### Эндпоинты

-  **POST /get_form** - Передача динамических параметров формы в формате x-www-form-urlencoded.


## MongoDB & Mongo-Express 
После запуска через Docker MongoDB будет доступен по адресу `mongodb://localhost:27017`, а mongo-express — по адресу `http://localhost:8081`



## Тестирование 

Для запуска тестов выполните команду:
```bash
docker compose -f docker-compose.test.yml up --build --abort-on-container-exit --remove-orphans
```
Эта команда:
- Строит контейнеры, если есть изменения.
- Запускает тесты.
- Останавливает все контейнеры после завершения тестов.

## Лицензия


Этот проект лицензирован под MIT License - подробности см. в файле [LICENSE](./LICENSE).
